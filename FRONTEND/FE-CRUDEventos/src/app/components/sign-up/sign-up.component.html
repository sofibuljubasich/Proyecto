<mat-toolbar class="mat">
    <img src="images/Logo2.gif" alt="Logo" class="logo" height="50" width="150" routerLink='./inicio'>
</mat-toolbar>

<div class="background">
  <div class="signup-container">
    <form *ngIf="!showSecondStep" [formGroup]="signupFormPart1">
    <div>
        <p class="title">Crear Sesión</p>
        <p style="color: aliceblue;    display: flex; justify-content: center;"> Por favor, ingrese la siguiente información</p>
    </div>
    <!-- <form [formGroup]="signupForm" (ngSubmit)="onSubmit()"> -->
      <div class="datos" >
        <div class="dato">
          <label for="nombre">Nombre:</label>
          <input id="nombre" formControlName="nombre" type="text" required>
          <div *ngIf="isFieldInvalid(signupFormPart1,'nombre')" class="error-message">
            Nombre es requerido y debe tener al menos 3 caracteres.
          </div>
        </div>
        <div class="dato">
          <label for="apellido">Apellido:</label>
          <input id="apellido" formControlName="apellido" type="text" required>
          <div *ngIf="isFieldInvalid(signupFormPart1,'apellido')" class="error-message">
            Apellido es requerido y debe tener al menos 3 caracteres.
          </div>
        </div>
      </div>
       <div class="datos" > <!-- style="margin-top: -10px;" -->
        <div class="dato">
          <label for="genero">Género:</label>
          <div class="custom-datepicker">
            <select id="genero" formControlName="genero" required matIconSuffix>
              <option style="color: black;" value="">Seleccione su género</option>
              <option style="color: black;" value="masculino">Masculino</option>
              <option style="color: black;" value="femenino">Femenino</option>
              <option style="color: black;" value="otro">Otro</option>
            </select>
          </div>
          <div *ngIf="isFieldInvalid(signupFormPart1,'genero')" class="error-message" style="margin-top: -5px;">
            Género es requerido.
          </div>
        </div>
        <div class="dato">
          <label for="dni">DNI:</label>
          <input id="dni" formControlName="dni" type="text" required>
          <div *ngIf="isFieldInvalid(signupFormPart1,'dni')" class="error-message">
            El dni es requerido y debe tener 8 dígitos.
          </div>
        </div>
        <div class="dato">
          <label for="telefono">Teléfono:</label>
          <input id="telefono" formControlName="telefono" type="text" required>
          <div *ngIf="isFieldInvalid(signupFormPart1,'telefono')" class="error-message">
            Teléfono es requerido y debe tener entre 10 y 15 dígitos.
          </div>
        </div>
        <div class="dato">
          <label for="localidad">Localidad:</label>
          <input id="localidad" formControlName="localidad" type="text" required>
          <div *ngIf="isFieldInvalid(signupFormPart1,'localidad')" class="error-message">
            La localidad es requerida.
          </div>
        </div>
        <div class="dato">
          <label for="fechaNacimiento">Fecha de Nacimiento:</label>
          <div class="custom-datepicker">
            <input matInput id="fechaNacimiento" formControlName="fechaNacimiento" [matDatepicker]="picker" placeholder="Seleccione su fecha de nacimiento" required>
            <mat-datepicker-toggle style="color:rgb(50, 148, 187);" matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </div>
          <div *ngIf="isFieldInvalid(signupFormPart1,'fechaNacimiento')" class="error-message" style="margin-top: -5px;">
            Fecha de nacimiento es requerida.
          </div>
        </div>
        <div class="dato">
          <label for="obraSocial">Obra Social:</label>
          <input id="obraSocial" formControlName="obraSocial" type="text" required>
          <div *ngIf="isFieldInvalid(signupFormPart1,'obraSocial')" class="error-message">
            La Obra Social es requerida.
          </div>
        </div>
      </div>
      <div class="button-container">
        <button type="button" (click)="onNext()">Siguiente</button>
      </div>

      <div *ngIf="signupFormPart1.invalid && signupFormPart1.dirty">
        <h3>Estado del Formulario Parte 1:</h3>
        <pre>{{ signupFormPart1.status }}</pre>
        <h3>Valores del Formulario Parte 1:</h3>
        <pre>{{ signupFormPart1.value | json }}</pre>
      </div>
    </form>



<!-- Segunda parte del formulario -->
<form *ngIf="showSecondStep" [formGroup]="signupFormPart3" (ngSubmit)="onSubmit()">
  <div class="back-link">
    <a (click)="showSecondStep = false">← Volver</a>
  </div>
  <div>
    <p class="title">Crear Sesión</p>
    <p style="color: aliceblue;    display: flex; justify-content: center;"> Por favor, ingrese la siguiente información</p>
</div>
  <div class="email">
    <label for="email">Correo Electrónico:</label>
    <input id="email" formControlName="email" type="email" required>
    <div *ngIf="isFieldInvalid(signupFormPart3,'email')" class="error-message">
      Correo electrónico es requerido y debe ser válido.
    </div>
  </div>
  <div>
    <label for="password">Contraseña:</label>
    <input type="password" id="password" formControlName="password">
    <div *ngIf="isFieldInvalid(signupFormPart3, 'password')" class="error-message">
      Contraseña es requerida.
    </div>
  </div>
  <div>
    <label for="confirmPassword">Confirmar contraseña:</label>
    <input type="password" id="confirmPassword" formControlName="confirmPassword">
    <div *ngIf="signupForm.get('confirmPassword')?.errors?.['mismatch']" class="error-message">
      Las contraseñas no coinciden.
    </div>
  </div>
  <div class="button-container">
    <button type="submit">Registrarse</button>
  </div>
</form>





  </div>
</div>